; asmsyntax=asmM6502

	.include "ppu.inc"
	.reloc

	.zeropage
z0:	.byte	0
z1:	.byte	0
z2:	.byte	0
z3:	.byte	0
z4:	.byte	0
z5:	.byte	0
z6:	.byte	0
z7:	.byte	0

	.rodata

data_nametable:
	data_nametable_size = 1024
	.byte	$01, $02, $02, $02, $02, $02, $02, $02
	.byte	$02, $02, $02, $02, $02, $02, $02, $02
	.byte	$02, $02, $02, $02, $02, $02, $02, $02
	.byte	$02, $02, $02, $02, $02, $02, $02, $03

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	"Hello, world!", $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$04, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $05

	.byte	$06, $07, $07, $07, $07, $07, $07, $07
	.byte	$07, $07, $07, $07, $07, $07, $07, $07
	.byte	$07, $07, $07, $07, $07, $07, $07, $07
	.byte	$07, $07, $07, $07, $07, $07, $07, $08

	.byte	$80, $00, $a0, $a0, $a0, $a0, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00

data_palette:
	data_palette_size = 4 * 8
	.byte	$00, $02, $06, $0a
	.byte	$10, $12, $16, $1a
	.byte	$20, $22, $26, $2a
	.byte	$30, $32, $36, $3a
	.byte	$00, $04, $08, $0c
	.byte	$10, $14, $18, $1c
	.byte	$20, $24, $28, $2c
	.byte	$30, $34, $38, $3c

data_pattern0:
	data_pattern0_size = 16 * 128
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00

	.byte	$00, $03, $0f, $1c, $38, $30, $60, $60
	.byte	$80, $40, $20, $10, $08, $04, $02, $01

	.byte	$99, $99, $00, $00, $00, $00, $00, $00
	.byte	$7e, $7e, $00, $00, $00, $00, $00, $00

	.byte	$00, $c0, $f0, $38, $1c, $0c, $06, $06
	.byte	$01, $02, $04, $08, $10, $20, $40, $80

	.byte	$c0, $00, $00, $c0, $c0, $00, $00, $c0
	.byte	$00, $c0, $c0, $c0, $c0, $c0, $c0, $00

	.byte	$03, $00, $00, $03, $03, $00, $00, $03
	.byte	$00, $03, $03, $03, $03, $03, $03, $00

	.byte	$60, $60, $30, $38, $1c, $0f, $03, $00
	.byte	$01, $02, $04, $08, $10, $20, $40, $80

	.byte	$00, $00, $00, $00, $00, $00, $99, $99
	.byte	$00, $00, $00, $00, $00, $00, $7e, $7e

	.byte	$06, $06, $0c, $1c, $38, $f0, $c0, $00
	.byte	$80, $40, $20, $10, $08, $04, $02, $01

	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$22, $20, $20, $20, $00, $00, $20, $01
	.byte	$22, $20, $20, $20, $00, $00, $20, $01
	.byte	$52, $50, $50, $00, $00, $00, $00, $01
	.byte	$52, $50, $50, $00, $00, $00, $00, $01
	.byte	$52, $50, $F8, $50, $F8, $50, $50, $01
	.byte	$52, $50, $F8, $50, $F8, $50, $50, $01
	.byte	$22, $78, $A0, $70, $28, $F0, $20, $01
	.byte	$22, $78, $A0, $70, $28, $F0, $20, $01
	.byte	$C2, $C8, $10, $20, $40, $98, $18, $01
	.byte	$C2, $C8, $10, $20, $40, $98, $18, $01
	.byte	$62, $90, $A0, $40, $A8, $90, $68, $01
	.byte	$62, $90, $A0, $40, $A8, $90, $68, $01
	.byte	$62, $20, $40, $00, $00, $00, $00, $01
	.byte	$62, $20, $40, $00, $00, $00, $00, $01
	.byte	$12, $20, $40, $40, $40, $20, $10, $01
	.byte	$12, $20, $40, $40, $40, $20, $10, $01
	.byte	$42, $20, $10, $10, $10, $20, $40, $01
	.byte	$42, $20, $10, $10, $10, $20, $40, $01
	.byte	$02, $20, $A8, $70, $A8, $20, $00, $01
	.byte	$02, $20, $A8, $70, $A8, $20, $00, $01
	.byte	$02, $20, $20, $F8, $20, $20, $00, $01
	.byte	$02, $20, $20, $F8, $20, $20, $00, $01
	.byte	$02, $00, $00, $00, $00, $60, $20, $41
	.byte	$02, $00, $00, $00, $00, $60, $20, $41
	.byte	$02, $00, $00, $F8, $00, $00, $00, $01
	.byte	$02, $00, $00, $F8, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $60, $60, $01
	.byte	$02, $00, $00, $00, $00, $60, $60, $01
	.byte	$02, $08, $10, $20, $40, $80, $00, $01
	.byte	$02, $08, $10, $20, $40, $80, $00, $01
	.byte	$72, $88, $98, $A8, $C8, $88, $70, $01
	.byte	$72, $88, $98, $A8, $C8, $88, $70, $01
	.byte	$22, $60, $20, $20, $20, $20, $70, $01
	.byte	$22, $60, $20, $20, $20, $20, $70, $01
	.byte	$72, $88, $08, $10, $20, $40, $F8, $01
	.byte	$72, $88, $08, $10, $20, $40, $F8, $01
	.byte	$FA, $10, $20, $10, $08, $88, $70, $01
	.byte	$FA, $10, $20, $10, $08, $88, $70, $01
	.byte	$12, $30, $50, $90, $F8, $10, $10, $01
	.byte	$12, $30, $50, $90, $F8, $10, $10, $01
	.byte	$FA, $80, $F0, $08, $08, $88, $70, $01
	.byte	$FA, $80, $F0, $08, $08, $88, $70, $01
	.byte	$32, $40, $80, $F0, $88, $88, $70, $01
	.byte	$32, $40, $80, $F0, $88, $88, $70, $01
	.byte	$FA, $08, $10, $20, $40, $40, $40, $01
	.byte	$FA, $08, $10, $20, $40, $40, $40, $01
	.byte	$72, $88, $88, $70, $88, $88, $70, $01
	.byte	$72, $88, $88, $70, $88, $88, $70, $01
	.byte	$72, $88, $88, $78, $08, $10, $60, $01
	.byte	$72, $88, $88, $78, $08, $10, $60, $01
	.byte	$02, $60, $60, $00, $60, $60, $00, $01
	.byte	$02, $60, $60, $00, $60, $60, $00, $01
	.byte	$02, $60, $60, $00, $60, $20, $40, $01
	.byte	$02, $60, $60, $00, $60, $20, $40, $01
	.byte	$12, $20, $40, $80, $40, $20, $10, $01
	.byte	$12, $20, $40, $80, $40, $20, $10, $01
	.byte	$02, $00, $F8, $00, $F8, $00, $00, $01
	.byte	$02, $00, $F8, $00, $F8, $00, $00, $01
	.byte	$42, $20, $10, $08, $10, $20, $40, $01
	.byte	$42, $20, $10, $08, $10, $20, $40, $01
	.byte	$72, $88, $08, $10, $20, $00, $20, $01
	.byte	$72, $88, $08, $10, $20, $00, $20, $01
	.byte	$72, $88, $08, $68, $A8, $A8, $70, $01
	.byte	$72, $88, $08, $68, $A8, $A8, $70, $01
	.byte	$72, $88, $88, $88, $F8, $88, $88, $01
	.byte	$72, $88, $88, $88, $F8, $88, $88, $01
	.byte	$F2, $88, $88, $F0, $88, $88, $F0, $01
	.byte	$F2, $88, $88, $F0, $88, $88, $F0, $01
	.byte	$72, $88, $80, $80, $80, $88, $70, $01
	.byte	$72, $88, $80, $80, $80, $88, $70, $01
	.byte	$E2, $90, $88, $88, $88, $90, $E0, $01
	.byte	$E2, $90, $88, $88, $88, $90, $E0, $01
	.byte	$FA, $80, $80, $F0, $80, $80, $F8, $01
	.byte	$FA, $80, $80, $F0, $80, $80, $F8, $01
	.byte	$FA, $80, $80, $F0, $80, $80, $80, $01
	.byte	$FA, $80, $80, $F0, $80, $80, $80, $01
	.byte	$72, $88, $80, $B8, $88, $88, $78, $01
	.byte	$72, $88, $80, $B8, $88, $88, $78, $01
	.byte	$8A, $88, $88, $F8, $88, $88, $88, $01
	.byte	$8A, $88, $88, $F8, $88, $88, $88, $01
	.byte	$72, $20, $20, $20, $20, $20, $70, $01
	.byte	$72, $20, $20, $20, $20, $20, $70, $01
	.byte	$3A, $10, $10, $10, $10, $90, $60, $01
	.byte	$3A, $10, $10, $10, $10, $90, $60, $01
	.byte	$8A, $90, $A0, $C0, $A0, $90, $88, $01
	.byte	$8A, $90, $A0, $C0, $A0, $90, $88, $01
	.byte	$82, $80, $80, $80, $80, $80, $F8, $01
	.byte	$82, $80, $80, $80, $80, $80, $F8, $01
	.byte	$8A, $D8, $A8, $A8, $88, $88, $88, $01
	.byte	$8A, $D8, $A8, $A8, $88, $88, $88, $01
	.byte	$8A, $88, $C8, $A8, $98, $88, $88, $01
	.byte	$8A, $88, $C8, $A8, $98, $88, $88, $01
	.byte	$72, $88, $88, $88, $88, $88, $70, $01
	.byte	$72, $88, $88, $88, $88, $88, $70, $01
	.byte	$F2, $88, $88, $F0, $80, $80, $80, $01
	.byte	$F2, $88, $88, $F0, $80, $80, $80, $01
	.byte	$72, $88, $88, $88, $A8, $90, $68, $01
	.byte	$72, $88, $88, $88, $A8, $90, $68, $01
	.byte	$F2, $88, $88, $F0, $A0, $90, $88, $01
	.byte	$F2, $88, $88, $F0, $A0, $90, $88, $01
	.byte	$7A, $80, $80, $70, $08, $08, $F0, $01
	.byte	$7A, $80, $80, $70, $08, $08, $F0, $01
	.byte	$FA, $20, $20, $20, $20, $20, $20, $01
	.byte	$FA, $20, $20, $20, $20, $20, $20, $01
	.byte	$8A, $88, $88, $88, $88, $88, $70, $01
	.byte	$8A, $88, $88, $88, $88, $88, $70, $01
	.byte	$8A, $88, $88, $88, $88, $50, $20, $01
	.byte	$8A, $88, $88, $88, $88, $50, $20, $01
	.byte	$8A, $88, $88, $A8, $A8, $A8, $50, $01
	.byte	$8A, $88, $88, $A8, $A8, $A8, $50, $01
	.byte	$8A, $88, $50, $20, $50, $88, $88, $01
	.byte	$8A, $88, $50, $20, $50, $88, $88, $01
	.byte	$8A, $88, $88, $50, $20, $20, $20, $01
	.byte	$8A, $88, $88, $50, $20, $20, $20, $01
	.byte	$FA, $08, $10, $20, $40, $80, $F8, $01
	.byte	$FA, $08, $10, $20, $40, $80, $F8, $01
	.byte	$72, $40, $40, $40, $40, $40, $70, $01
	.byte	$72, $40, $40, $40, $40, $40, $70, $01
	.byte	$02, $80, $40, $20, $10, $08, $00, $01
	.byte	$02, $80, $40, $20, $10, $08, $00, $01
	.byte	$72, $10, $10, $10, $10, $10, $70, $01
	.byte	$72, $10, $10, $10, $10, $10, $70, $01
	.byte	$22, $50, $88, $00, $00, $00, $00, $01
	.byte	$22, $50, $88, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $F8, $01
	.byte	$02, $00, $00, $00, $00, $00, $F8, $01
	.byte	$42, $20, $10, $00, $00, $00, $00, $01
	.byte	$42, $20, $10, $00, $00, $00, $00, $01
	.byte	$02, $00, $70, $08, $78, $88, $78, $01
	.byte	$02, $00, $70, $08, $78, $88, $78, $01
	.byte	$82, $80, $B0, $C8, $88, $88, $F0, $01
	.byte	$82, $80, $B0, $C8, $88, $88, $F0, $01
	.byte	$02, $00, $70, $80, $80, $88, $70, $01
	.byte	$02, $00, $70, $80, $80, $88, $70, $01
	.byte	$0A, $08, $68, $98, $88, $88, $78, $01
	.byte	$0A, $08, $68, $98, $88, $88, $78, $01
	.byte	$02, $00, $70, $88, $F8, $80, $70, $01
	.byte	$02, $00, $70, $88, $F8, $80, $70, $01
	.byte	$32, $48, $40, $E0, $40, $40, $40, $01
	.byte	$32, $48, $40, $E0, $40, $40, $40, $01
	.byte	$02, $78, $88, $88, $78, $08, $70, $01
	.byte	$02, $78, $88, $88, $78, $08, $70, $01
	.byte	$82, $80, $B0, $C8, $88, $88, $88, $01
	.byte	$82, $80, $B0, $C8, $88, $88, $88, $01
	.byte	$22, $00, $60, $20, $20, $20, $70, $01
	.byte	$22, $00, $60, $20, $20, $20, $70, $01
	.byte	$12, $00, $30, $10, $10, $90, $60, $01
	.byte	$12, $00, $30, $10, $10, $90, $60, $01
	.byte	$82, $80, $90, $A0, $C0, $A0, $90, $01
	.byte	$82, $80, $90, $A0, $C0, $A0, $90, $01
	.byte	$62, $20, $20, $20, $20, $20, $70, $01
	.byte	$62, $20, $20, $20, $20, $20, $70, $01
	.byte	$02, $00, $D0, $A8, $A8, $A8, $A8, $01
	.byte	$02, $00, $D0, $A8, $A8, $A8, $A8, $01
	.byte	$02, $00, $B0, $C8, $88, $88, $88, $01
	.byte	$02, $00, $B0, $C8, $88, $88, $88, $01
	.byte	$02, $00, $70, $88, $88, $88, $70, $01
	.byte	$02, $00, $70, $88, $88, $88, $70, $01
	.byte	$02, $00, $F0, $88, $F0, $80, $80, $01
	.byte	$02, $00, $F0, $88, $F0, $80, $80, $01
	.byte	$02, $00, $68, $98, $78, $08, $08, $01
	.byte	$02, $00, $68, $98, $78, $08, $08, $01
	.byte	$02, $00, $B0, $C8, $80, $80, $80, $01
	.byte	$02, $00, $B0, $C8, $80, $80, $80, $01
	.byte	$02, $00, $70, $80, $70, $08, $F0, $01
	.byte	$02, $00, $70, $80, $70, $08, $F0, $01
	.byte	$42, $40, $E0, $40, $40, $48, $30, $01
	.byte	$42, $40, $E0, $40, $40, $48, $30, $01
	.byte	$02, $00, $88, $88, $88, $98, $68, $01
	.byte	$02, $00, $88, $88, $88, $98, $68, $01
	.byte	$02, $00, $88, $88, $88, $50, $20, $01
	.byte	$02, $00, $88, $88, $88, $50, $20, $01
	.byte	$02, $00, $88, $88, $A8, $A8, $50, $01
	.byte	$02, $00, $88, $88, $A8, $A8, $50, $01
	.byte	$02, $00, $88, $50, $20, $50, $88, $01
	.byte	$02, $00, $88, $50, $20, $50, $88, $01
	.byte	$02, $00, $88, $88, $78, $08, $70, $01
	.byte	$02, $00, $88, $88, $78, $08, $70, $01
	.byte	$02, $00, $F8, $10, $20, $40, $F8, $01
	.byte	$02, $00, $F8, $10, $20, $40, $F8, $01
	.byte	$12, $20, $20, $40, $20, $20, $10, $01
	.byte	$12, $20, $20, $40, $20, $20, $10, $01
	.byte	$22, $20, $20, $20, $20, $20, $20, $01
	.byte	$22, $20, $20, $20, $20, $20, $20, $01
	.byte	$42, $20, $20, $10, $20, $20, $40, $01
	.byte	$42, $20, $20, $10, $20, $20, $40, $01
	.byte	$02, $00, $68, $90, $00, $00, $00, $01
	.byte	$02, $00, $68, $90, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$02, $00, $00, $00, $00, $00, $00, $01
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$ff, $81, $42, $24, $24, $42, $81, $ff
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$00, $00, $00, $00, $00, $00, $00, $00
	.byte	$18, $24, $42, $81, $81, $42, $24, $18

	.code
	.export ppu_data_init

.proc	ppu_data_init
	pha
	bit	ppu_status

	lda	#<data_pattern0
	sta	<z0
	lda	#>data_pattern0
	sta	<z1
	lda	#$00	; Pattern table 0 @ $0000
	sta	<z2
	lda	#$00
	sta	<z3
	lda	#<data_pattern0_size
	sta	<z4
	lda	#>data_pattern0_size
	sta	<z5
	jsr	ppucopy

	lda	#<data_nametable
	sta	<z0
	lda	#>data_nametable
	sta	<z1
	lda	#$00	; Nametable 0 @ $2000
	sta	<z2
	lda	#$20
	sta	<z3
	lda	#<data_nametable_size
	sta	<z4
	lda	#>data_nametable_size
	sta	<z5
	jsr	ppucopy

	lda	#<data_palette
	sta	<z0
	lda	#>data_palette
	sta	<z1
	lda	#$00	; Palette RAM @ $3f00
	sta	<z2
	lda	#$3f
	sta	<z3
	lda	#<data_palette_size
	sta	<z4
	lda	#>data_palette_size
	sta	<z5
	jsr	ppucopy

	pla
	rts
.endproc

	; Copy memory content from ROM to PPU data register
	; Parameters: src(z0, z1), dst(z2, z3), size(z4, z5)
.proc	ppucopy
	pha
	tya
	pha
	lda	z3
	sta	ppu_addr
	lda	z2
	sta	ppu_addr
	ldy	#$00
loop:	lda	z4
	beq	sizeh
	dec	<z4
	jmp	write
sizeh:	dec	<z4
	lda	z5
	beq	done
	dec	<z5
write:	lda	(<z0), Y
	sta	ppu_data
	iny
	bne	loop
	inc	<z1
	jmp	loop
done:	pla
	tay
	pla
	rts
.endproc
